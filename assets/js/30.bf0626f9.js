(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{330:function(a,t,e){a.exports=e.p+"assets/img/image-20240116220519763.0c468ef9.png"},331:function(a,t,e){a.exports=e.p+"assets/img/image-20240116220543113.d225f4a7.png"},400:function(a,t,e){"use strict";e.r(t);var v=e(14),r=Object(v.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"å½»åº•ææ‡‚-g1-çš„å·¥ä½œåŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å½»åº•ææ‡‚-g1-çš„å·¥ä½œåŸç†"}},[a._v("#")]),a._v(" å½»åº•ææ‡‚ G1 çš„å·¥ä½œåŸç†")]),a._v(" "),t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[a._v("#")]),a._v(" å‰è¨€")]),a._v(" "),t("ul",[t("li",[a._v("YoungGCå’ŒMixedGCä¼šSTWå—")]),a._v(" "),t("li",[a._v("å…¨å±€å¹¶å‘æ ‡è®°å’ŒYoungGCã€MixedGCæœ‰ä»€ä¹ˆå…³ç³»å—")]),a._v(" "),t("li",[a._v("YoungGCä¼šæ•´å †æ‰«æå—ï¼Ÿå¦‚æœä¸ä¼šï¼ŒG1æ˜¯å¦‚ä½•åšåˆ°çš„")])]),a._v(" "),t("p",[a._v("å¸¦ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘ä»¬å°±æ­£å¼å¼€å§‹è¯´G1äº†ã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("å¦‚æœæœ‰ä¸æ‡‚çš„åè¯æˆ–å…³ç³»ï¼Œå¯ä»¥å‚è€ƒï¼š"),t("a",{attrs:{href:"https://juejin.cn/post/7276260308514193448",target:"_blank",rel:"noopener noreferrer"}},[a._v("GCæ–¹æ³•è®ºï¼šå…³äºJVMåƒåœ¾å›æ”¶æœºåˆ¶å¿…é¡»æŒæ¡çš„åŸºç¡€çŸ¥è¯†"),t("OutboundLink")],1),a._v("ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"g1çš„ç‰¹ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1çš„ç‰¹ç‚¹"}},[a._v("#")]),a._v(" G1çš„ç‰¹ç‚¹")]),a._v(" "),t("p",[a._v("G1ï¼š Garbage-First")]),a._v(" "),t("p",[a._v("æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ï¼šåœé¡¿æ—¶é—´å¯æ§ï¼Œè¿™ä¹Ÿæ˜¯G1åå­—çš„ç”±æ¥")]),a._v(" "),t("p",[a._v("G1ä¸€å…±æœ‰ä¸¤ä¸ªè¿‡ç¨‹æ˜¯å¹¶å‘çš„ã€‚é€»è¾‘ä¸Šåˆ†ä»£ï¼Œç‰©ç†ä¸Šåˆ†åŒºã€‚")]),a._v(" "),t("p",[a._v("G1åœ¨æ­£å¸¸å·¥ä½œæ—¶ï¼Œåªæœ‰Young GCå’ŒMixed GCäº¤æ›¿ï¼Œä¸€èˆ¬ä¸ä¼šå‡ºç°Full GCçš„ï¼Œè®¾è®¡ç†å¿µå°±æ˜¯å°½é‡é¿å…Full GCã€‚")]),a._v(" "),t("h2",{attrs:{id:"g1é‡‡å–çš„åƒåœ¾æ”¶é›†ç®—æ³•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1é‡‡å–çš„åƒåœ¾æ”¶é›†ç®—æ³•"}},[a._v("#")]),a._v(" G1é‡‡å–çš„åƒåœ¾æ”¶é›†ç®—æ³•")]),a._v(" "),t("p",[a._v("ä¸ç®¡æ˜¯æ–°ç”Ÿä»£è¿˜æ˜¯å¹´è€ä»£ï¼Œå›æ”¶ç®—æ³•éƒ½æ˜¯é‡‡ç”¨"),t("strong",[a._v("å¤åˆ¶ç®—æ³•")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("ä½†å®é™…ä¸Šï¼Œå› ä¸ºç‰©ç†åˆ†åŒºï¼Œæ‰€ä»¥åŒºå†…æ˜¯æ ‡è®°å¤åˆ¶ç®—æ³•ï¼Œ"),t("strong",[a._v("æ•´ä½“ä¸Šæ¥çœ‹æ•´ä¸ªå †ï¼Œæ˜¯ä¸€ç§æ ‡è®°æ•´ç†")])]),a._v(" "),t("h2",{attrs:{id:"g1çš„é€»è¾‘åˆ†ä»£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1çš„é€»è¾‘åˆ†ä»£"}},[a._v("#")]),a._v(" G1çš„é€»è¾‘åˆ†ä»£")]),a._v(" "),t("h4",{attrs:{id:"æ–°ç”Ÿä»£-è€å¹´ä»£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ–°ç”Ÿä»£-è€å¹´ä»£"}},[a._v("#")]),a._v(" æ–°ç”Ÿä»£ï¼Œè€å¹´ä»£")]),a._v(" "),t("p",[a._v("Edenï¼ŒSurvivorï¼ŒOldçš„ä»£çš„æ¦‚å¿µéƒ½è¢«ä¿ç•™")]),a._v(" "),t("p",[a._v("é»˜è®¤æ–°ç”Ÿä»£å¯¹å †å†…å­˜çš„åˆå§‹å æ¯”æ˜¯5%ï¼Œæœ€å¤š60%ï¼Œä¸”æ¯”ä¾‹ä»ç„¶æ˜¯8:1:1")]),a._v(" "),t("h4",{attrs:{id:"humongous-å­˜å‚¨å¤§å¯¹è±¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#humongous-å­˜å‚¨å¤§å¯¹è±¡"}},[a._v("#")]),a._v(" Humongousï¼šå­˜å‚¨å¤§å¯¹è±¡")]),a._v(" "),t("p",[a._v("é™¤äº†Edenï¼ŒSurvivorï¼ŒOldåŒºåŸŸï¼ŒG1è¿˜é¢å¤–å¤šäº†ä¸€ä¸ªHumongousåŒºåŸŸï¼Œä¸“é—¨ç”¨äº"),t("strong",[a._v("å­˜æ”¾å·¨å‹å¯¹è±¡")]),a._v("ã€‚")]),a._v(" "),t("p",[t("strong",[a._v("å¦‚æœä¸€ä¸ªå¯¹è±¡çš„å¤§å°è¶…è¿‡Regionå®¹é‡çš„50%ä»¥ä¸Šï¼Œå°±è®¤ä¸ºæ˜¯å¤§å¯¹è±¡")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("å¦‚æœä¸€ä¸ªHåŒºè£…ä¸ä¸‹å·¨å‹å¯¹è±¡ï¼Œé‚£ä¹ˆG1ä¼šå¯»æ‰¾è¿ç»­çš„Håˆ†åŒºæ¥å­˜å‚¨ï¼Œå¦‚æœå¯»æ‰¾ä¸åˆ°è¿ç»­çš„HåŒºçš„è¯ï¼Œå°±ä¸å¾—ä¸å¯åŠ¨ Full GC äº†ã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("G1æå‡ºHumongousåŒºåŸŸçš„æ„ä¹‰ï¼š")]),a._v(" "),t("p",[a._v("CMSçš„åšæ³•æ˜¯ç›´æ¥å°†å¤§å¯¹è±¡æ”¾å…¥è€å¹´ä»£ ï¼Œç„¶è€Œå¤§å¯¹è±¡æœªå¿…å°±ä¸€å®šå­˜æ´»å¾ˆä¹…ï¼Œç›´æ¥æ”¾å…¥è€å¹´ä»£æ˜¯ä¸å¦¥çš„ã€‚")])]),a._v(" "),t("h2",{attrs:{id:"g1çš„ç‰©ç†åˆ†åŒº-region"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1çš„ç‰©ç†åˆ†åŒº-region"}},[a._v("#")]),a._v(" G1çš„ç‰©ç†åˆ†åŒºï¼šRegion")]),a._v(" "),t("p",[a._v("G1å°†Javaå †åˆ’åˆ†ä¸ºå¤šä¸ªå¤§å°ç›¸ç­‰çš„ç‹¬ç«‹çš„"),t("code",[a._v("Region")]),a._v("åŒºåŸŸï¼Œé»˜è®¤2048ä¸ªRegionã€‚æ¯ä¸ªRegionéƒ½å¯ä»¥å±äºæŸä¸ªä»£ã€‚")]),a._v(" "),t("p",[t("img",{attrs:{src:e(330),alt:"image-20240116220519763"}})]),a._v(" "),t("h4",{attrs:{id:"card-å †å†…å­˜çš„æœ€å°ç²’åº¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#card-å †å†…å­˜çš„æœ€å°ç²’åº¦"}},[a._v("#")]),a._v(" cardï¼šå †å†…å­˜çš„æœ€å°ç²’åº¦")]),a._v(" "),t("p",[a._v("æ¯ä¸ªRegionå†…éƒ¨ï¼Œåˆä¼šè¢«åˆ†å‰²ä¸ºè‹¥å¹²ä¸ªå¡ç‰‡ï¼Œä¸€ä¸ªå¡ç‰‡çš„å¤§å°ä¸º512Bã€‚")]),a._v(" "),t("h4",{attrs:{id:"regionå†…éƒ¨ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#regionå†…éƒ¨ç»“æ„"}},[a._v("#")]),a._v(" Regionå†…éƒ¨ç»“æ„")]),a._v(" "),t("p",[a._v("ä¸€ä¸ªRegionå†…éƒ¨æœ‰å¦‚ä¸‹äº”ä¸ªæŒ‡é’ˆï¼š")]),a._v(" "),t("p",[t("img",{attrs:{src:e(331),alt:"image-20240116220543113"}})]),a._v(" "),t("p",[a._v("ä¸‰ä¸ªå¥½ç†è§£çš„ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("bottomï¼šRegionå—çš„èµ·å§‹ä½ç½®")]),a._v(" "),t("li",[a._v("endï¼šRegionå—çš„ç»“æŸä½ç½®ï¼Œend - topå°±æ˜¯ä¸€ä¸ªRegionå—çš„å¤§å°")]),a._v(" "),t("li",[a._v("topï¼š"),t("code",[a._v("bottom ~ top")]),a._v("å±äºRegionå·²ç»è¢«ä½¿ç”¨çš„ç©ºé—´ï¼›"),t("code",[a._v("top ~ end")]),a._v("å±äºç©ºé—²ç©ºé—´ topæ˜¯ç©ºé—²å†…å­˜ä¸å·²ä½¿ç”¨å†…å­˜çš„åˆ†ç•Œçº¿")])]),a._v(" "),t("p",[a._v("TAMSï¼štop-at-mark-start")]),a._v(" "),t("p",[a._v("åˆåˆ†ä¸ºpreviouså’Œnextï¼Œå°±æ˜¯å‰ä¸€æ¬¡å’Œåä¸€æ¬¡å˜›ï¼Œå°±æ˜¯"),t("strong",[a._v("å‰åä¸¤æ¬¡å‘ç”Ÿå¹¶å‘æ ‡è®°æ—¶çš„ä½ç½®")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("é‚£è¿™ä¿©æŒ‡é’ˆæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå¹¶å‘æ ‡è®°æ˜¯ä¸æ˜¯å¯æ‰“æ–­çš„ï¼Ÿ")]),a._v(" "),t("h4",{attrs:{id:"bitmap-ç»´æŠ¤å¯¹è±¡çš„æ ‡è®°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bitmap-ç»´æŠ¤å¯¹è±¡çš„æ ‡è®°"}},[a._v("#")]),a._v(" BitMapï¼šç»´æŠ¤å¯¹è±¡çš„æ ‡è®°")]),a._v(" "),t("p",[a._v("ä¸‰è‰²æ ‡è®°æ³•ï¼Œä¼šå°†å¯¹è±¡æ ‡è®°æˆä¸‰ç§é¢œè‰²ï¼Œå¦‚ä½•ç»´æŠ¤è¿™ä¸ªé¢œè‰²å‘¢ï¼Ÿ")]),a._v(" "),t("p",[a._v("ä¸€ç§åšæ³•æ˜¯ï¼Œå€Ÿç”¨å¯¹è±¡çš„mark wordçš„mark bitã€‚")]),a._v(" "),t("p",[a._v("ä½†G1çš„é€‰æ‹©æ˜¯åœ¨å¤–éƒ¨ä¸ºæ¯ä¸ªRegionç»´æŠ¤ä¸¤ä¸ªBitMapï¼š")]),a._v(" "),t("p",[a._v("ä¸€ä¸ªæ˜¯"),t("code",[a._v("prevBitmap [bottom, prevTAMS)")]),a._v("ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ "),t("code",[a._v("nextBitmap [bottom, nextTAMS)")]),a._v("ã€‚è¿™ä¸¤ä¸ªbitmapç»´æŠ¤äº†å†…éƒ¨ä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´å¯¹è±¡çš„å­˜æ´»çŠ¶å†µã€‚")]),a._v(" "),t("h5",{attrs:{id:"ä¸ºä»€ä¹ˆéœ€è¦prev"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆéœ€è¦prev"}},[a._v("#")]),a._v(" ä¸ºä»€ä¹ˆéœ€è¦prevï¼Ÿ")]),a._v(" "),t("p",[a._v("å› ä¸ºå¹¶å‘æ ‡è®°æ˜¯å¯ä»¥è¢«YoungGCæ‰“æ–­çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸ªprevåŒºåŸŸç»´æŠ¤æ—§çš„BitMapã€‚")]),a._v(" "),t("h4",{attrs:{id:"tamsæŒ‡é’ˆä¸bitmapå¦‚ä½•é…åˆå·¥ä½œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tamsæŒ‡é’ˆä¸bitmapå¦‚ä½•é…åˆå·¥ä½œ"}},[a._v("#")]),a._v(" TAMSæŒ‡é’ˆä¸BitMapå¦‚ä½•é…åˆå·¥ä½œ")]),a._v(" "),t("p",[a._v("å¹¶å‘æ ‡è®°å¼€å§‹æ—¶ï¼Œnext TAMS = topï¼Œåœ¨å¹¶å‘æ ‡è®°çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ–°å¯¹è±¡åˆ†é…åœ¨next TAMSä¹‹åï¼Œè¿™äº›å¯¹è±¡ä¸ä¼šè¢«GCã€‚")]),a._v(" "),t("p",[a._v("å¯¹äºç¬¬nè½®å¹¶å‘æ ‡è®°è€Œè¨€ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("[bottom, prevTAMS): è¿™éƒ¨åˆ†é‡Œçš„å¯¹è±¡å­˜æ´»ä¿¡æ¯å¯ä»¥é€šè¿‡prevBitmapæ¥å¾—çŸ¥")]),a._v(" "),t("li",[a._v("[prevTAMS, nextTAMS): è¿™éƒ¨åˆ†é‡Œçš„å¯¹è±¡åœ¨ç¬¬n-1è½®concurrent markingæ˜¯éšå¼å­˜æ´»çš„")]),a._v(" "),t("li",[a._v("[nextTAMS, top): è¿™éƒ¨åˆ†é‡Œçš„å¯¹è±¡åœ¨ç¬¬nè½®concurrent markingæ˜¯éšå¼å­˜æ´»çš„")])]),a._v(" "),t("blockquote",[t("p",[a._v("å¹¶å‘æ ‡è®°æœŸé—´æ–°çš„å¯¹è±¡æ ¹æœ¬ä¸ä¼šè¢«GCï¼Œå…¨éƒ¨è®¤ä¸ºå­˜æ´»")])]),a._v(" "),t("h4",{attrs:{id:"å†™å‰å±éšœ-å®ç°satbğŸš©"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†™å‰å±éšœ-å®ç°satbğŸš©"}},[a._v("#")]),a._v(" å†™å‰å±éšœï¼šå®ç°SATBğŸš©")]),a._v(" "),t("blockquote",[t("p",[a._v("SATBæ˜¯å¿…é¡»ç†è§£çš„ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå¹¶å‘æ ‡è®°è§£å†³æ¼æ ‡é—®é¢˜çš„æ ¸å¿ƒ")]),a._v(" "),t("p",[a._v("ä¸æ‡‚SATBï¼Œå°±ä¸æ‡‚ä¸ºä»€ä¹ˆå…¨å±€å¹¶å‘æ ‡è®°çš„step2ã€3åœ¨å¹²å˜›ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å®ç°")])]),a._v(" "),t("p",[a._v("G1æ”¶é›†å™¨ä¼šé€šè¿‡å†™å‰å±éšœï¼Œåœ¨"),t("strong",[a._v("å¼•ç”¨è¢«æ›´æ”¹å‰å…ˆè®°å½•ä¸€ä¸‹åŸæœ¬çš„å¼•ç”¨ä¿¡æ¯")]),a._v("ã€‚è¿™æ ·"),t("strong",[a._v("G1å§‹ç»ˆæŒæœ‰å¹¶å‘æ ‡è®°å¼€å§‹ä¹‹å‰çš„å¯¹è±¡å›¾")]),a._v("ã€‚è¿™ä¸å°±æ˜¯å¿«ç…§snapshot at the beginningå—ã€‚è¿™æ ·å°±è§£å†³äº†æ¼æ ‡é—®é¢˜ã€‚")]),a._v(" "),t("h5",{attrs:{id:"å†™å‰å±éšœå…·ä½“è¡Œä¸º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†™å‰å±éšœå…·ä½“è¡Œä¸º"}},[a._v("#")]),a._v(" å†™å‰å±éšœå…·ä½“è¡Œä¸º")]),a._v(" "),t("blockquote",[t("p",[a._v("è®¸å¤šè®ºæ–‡æåˆ°çš„mutatorï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºç”¨æˆ·çº¿ç¨‹ã€‚")]),a._v(" "),t("p",[a._v("mutatorçš„å†™å‰æ …æ ä¼šåœ¨å¼•ç”¨å˜æ›´å‰ï¼Œå°†å€¼è®°å½•åœ¨SATBæ—¥ç¼“å†²åŒºä¸­ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šç‹¬å ä¸€ä¸ªSATBç¼“å†²åŒºï¼ˆSATBMarkQueueï¼‰ã€‚å½“SATBMarkQueueæ”¾æ»¡äº†ï¼Œä¼šæ”¾åˆ°å…¨å±€çš„SATBMarkQueueSetã€‚")]),a._v(" "),t("p",[a._v("åœ¨å¹¶å‘æ ‡è®°é˜¶æ®µï¼Œè¿˜ä¼šå®šæœŸæ£€æŸ¥å’Œå¤„ç†SATBMarkQueueSetçš„è®°å½•ï¼Œé‡æ–°æ ‡è®°ä¸ºç°è‰²å‹å…¥æ‰«ææ ˆã€‚")]),a._v(" "),t("p",[a._v("å¹¶å‘æ ‡è®°é˜¶æ®µç»“æŸå‰©ä½™çš„æœªå¤„ç†çš„SATBMarkQueueï¼ŒSATBMarkQueueSetï¼Œåœ¨æœ€ç»ˆæ ‡è®°å¤„ç†")])]),a._v(" "),t("h3",{attrs:{id:"rset-g1å¯¹è®°å¿†é›†çš„å®ç°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rset-g1å¯¹è®°å¿†é›†çš„å®ç°"}},[a._v("#")]),a._v(" RSetï¼šG1å¯¹è®°å¿†é›†çš„å®ç°")]),a._v(" "),t("blockquote",[t("p",[a._v("Remembered Setæ˜¯è®°å¿†é›†ï¼Œæ˜¯ä¸ªæŠ½è±¡çš„æ¦‚å¿µã€‚RSetæ˜¯G1å¯¹Remembered Setçš„å®ç°ï¼Œä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚")])]),a._v(" "),t("p",[a._v("G1ä¸HotSpot VMçš„å…¶å®ƒGCä¸€æ ·æœ‰ä¸€ä¸ª"),t("strong",[a._v("è¦†ç›–æ•´ä¸ªheapçš„card table")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("è€ŒG1åœ¨points-outçš„card tableä¹‹ä¸Šå†åŠ äº†ä¸€å±‚ç»“æ„æ¥æ„æˆpoints-into RSetã€‚")]),a._v(" "),t("p",[a._v("æ¯ä¸ªregionï¼ˆåˆ†åŒºï¼‰éƒ½æœ‰ä¸€ä¸ªRsetï¼Œè®°å½•"),t("strong",[a._v("å…¶å®ƒå±äºè€å¹´ä»£çš„ Region çš„cardå¯¹å½“å‰Region çš„card çš„å¼•ç”¨æƒ…å†µ")]),a._v("ã€‚ä¹Ÿå°±æ˜¯è®°å½•"),t("strong",[a._v("è°çš„æŒ‡é’ˆæŒ‡å‘æˆ‘ï¼Œæˆ–è€…è°å¼•ç”¨äº†æˆ‘çš„å¯¹è±¡")]),a._v("ã€‚è¿™å’ŒCard Tableæ˜¯åˆšå¥½ç›¸åçš„ã€‚è€Œè¿™äº›æ–°ç”Ÿä»£çš„cardå¯ä»¥ä½œä¸ºYoung GCçš„GC rootsã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("å³ä¾¿å½“å‰Regionå±äºè€å¹´ä»£ï¼Œä¹Ÿä¼šç»´æŠ¤RSetï¼Œå‡å‹MixedGC")])]),a._v(" "),t("h4",{attrs:{id:"rsetçš„å†…éƒ¨ç»“æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rsetçš„å†…éƒ¨ç»“æ„"}},[a._v("#")]),a._v(" RSetçš„å†…éƒ¨ç»“æ„")]),a._v(" "),t("p",[t("code",[a._v("RSet")]),a._v("æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ç»“æ„ï¼ˆ"),t("code",[a._v("HashTable")]),a._v("ï¼‰ï¼Œ"),t("code",[a._v("Key")]),a._v("ä¸ºå…¶ä»–å¼•ç”¨å½“å‰åŒºå†…å¯¹è±¡çš„"),t("code",[a._v("Region")]),a._v("èµ·å§‹åœ°å€ï¼Œ"),t("code",[a._v("Value")]),a._v("åˆ™æ˜¯ä¸€ä¸ªé›†åˆï¼Œé‡Œé¢çš„å…ƒç´ ä¸ºå…¶ä»–"),t("code",[a._v("Region")]),a._v("ä¸­æ¯ä¸ªå¼•ç”¨å½“å‰åŒºå†…å¯¹è±¡çš„åœ°å€ã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("å®é™…ä¸ŠG1ä¸­çš„"),t("code",[a._v("RSet")]),a._v("å¯¹å†…å­˜çš„å¼€é”€ä¹Ÿå¹¶ä¸å°ï¼Œå½“JVMä¸­åˆ†åŒºè¾ƒå¤šä¸”è¿è¡Œæ—¶é—´è¾ƒé•¿çš„æƒ…å†µä¸‹ï¼Œè¿™å—çš„å†…å­˜å¼€é”€å¯èƒ½ä¼š"),t("strong",[a._v("å ç”¨åˆ°"),t("code",[a._v("20%")]),a._v("ä»¥ä¸Š")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("å¼•è‡ªï¼š"),t("a",{attrs:{href:"https://juejin.cn/post/7080030329922125854#heading-11",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://juejin.cn/post/7080030329922125854#heading-11"),t("OutboundLink")],1)])]),a._v(" "),t("h4",{attrs:{id:"å†™åå±éšœ-ç»´æŠ¤rset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†™åå±éšœ-ç»´æŠ¤rset"}},[a._v("#")]),a._v(" å†™åå±éšœï¼šç»´æŠ¤Rset")]),a._v(" "),t("p",[a._v("åœ¨å¯¹å¼•ç”¨åšä¿®æ”¹çš„æ—¶å€™ï¼Œå»ä¿®æ”¹å¯¹åº”çš„RSetã€‚è¿™ä¸ªè¿‡ç¨‹ä¸SATBååˆ†ç›¸ä¼¼ã€‚å¦å¤–ï¼ŒG1è¿˜æœ‰card tableéœ€è¦ç»´æŠ¤ã€‚")]),a._v(" "),t("p",[a._v("mutatoræŠŠå¼•ç”¨è®°å½•åˆ°dirty card queueï¼ŒDirtyCardQueueSetï¼Œé€šè¿‡ConcurrentG1RefineThreadå¹¶å‘ç»´æŠ¤RSet")]),a._v(" "),t("p",[a._v("æ¯”å¦‚ï¼š")]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" listnode  l "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" listnode p "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("listnode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" l "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„log bufferï¼Œå†™å±éšœçš„è®°å½•å…ˆæ”¾è¿›å»è‡ªå·±çš„log bufferä¸­ï¼Œè£…æ»¡äº†ä¹‹åï¼Œå°±ä¼šæŠŠlog bufferæ”¾åˆ°å…¨å±€long buffer "),t("code",[a._v("global set of filled buffer")]),a._v("ä¸­ï¼Œè€Œåå†ç”³è¯·ä¸€ä¸ªlog bufferã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("G1åªæœ‰ä¸¤ä»¶äº‹æƒ…æ˜¯å¹¶å‘çš„ï¼Œä¸€æ˜¯å±éšœç¼“å­˜åŒºçš„å¹¶å‘å¤„ç†ï¼ŒäºŒæ˜¯å¹¶å‘æ ‡è®°")])]),a._v(" "),t("h4",{attrs:{id:"cset-gcåŒºåŸŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cset-gcåŒºåŸŸ"}},[a._v("#")]),a._v(" CSetï¼šGCåŒºåŸŸ")]),a._v(" "),t("blockquote",[t("p",[a._v("CSetè™½ç„¶æ˜¯ä¸ªå¾ˆç®€å•æ˜“æ‡‚çš„æ¦‚å¿µï¼Œä½†å´æ˜¯å¾ˆé‡è¦çš„æ¦‚å¿µ")])]),a._v(" "),t("p",[a._v("Collect Setç”¨äºæè¿°ï¼šä¸€æ¬¡GCçš„åŒºåŸŸï¼Œæ˜¯ä¸€ä¸ªç”±è‹¥å¹²regionæ„æˆçš„é›†åˆ")]),a._v(" "),t("p",[a._v("ä¸€æ¬¡GCåï¼ŒCSetçš„æ‰€æœ‰regionèµ„æºä¼šè¢«é‡Šæ”¾ï¼Œæˆä¸ºé—²ç½®çš„Regionï¼Œæ‰€æœ‰å­˜æ´»çš„å¯¹è±¡ä¼šè¢«æ”¾åˆ°åˆ«çš„Region")]),a._v(" "),t("p",[a._v("æ‰«æä»»ä½•regionçš„æ—¶å€™å¦‚æœç¢°åˆ°æŒ‡å‘ä¸åœ¨CSeté‡Œçš„regionçš„å¼•ç”¨éƒ½å¯ä»¥å¿½ç•¥ï¼Œå³æˆ‘ä»¬åªå…³æ³¨ä»éCSetåˆ°Csetçš„å¼•ç”¨ï¼Œè€Œå¿½ç•¥æ‰€æœ‰Csetåˆ°éCSetçš„å¼•ç”¨ã€‚")]),a._v(" "),t("h4",{attrs:{id:"gcå·¥ä½œçº¿ç¨‹æ•°é‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gcå·¥ä½œçº¿ç¨‹æ•°é‡"}},[a._v("#")]),a._v(" GCå·¥ä½œçº¿ç¨‹æ•°é‡")]),a._v(" "),t("p",[a._v("ç”±"),t("code",[a._v("-XX:ParallelGCThreads")]),a._v("å‚æ•°æŒ‡å®š")]),a._v(" "),t("p",[a._v("é»˜è®¤å€¼ä¸ºï¼š")]),a._v(" "),t("ul",[t("li",[a._v("å½“CPUæ ¸æ•°å°äºç­‰äº8ï¼Œåˆ™é»˜è®¤ä¸CPUæ ¸æ•°ç›¸ç­‰")]),a._v(" "),t("li",[a._v("å½“CPUæ ¸æ•°å¤§äº8ï¼Œç»è¿‡è®¡ç®—å¾—åˆ°ï¼Œä¸€èˆ¬å°äºCPUæ ¸æ•°")])]),a._v(" "),t("h2",{attrs:{id:"æ•´ä½“çœ‹g1çš„gcè¡Œä¸º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ•´ä½“çœ‹g1çš„gcè¡Œä¸º"}},[a._v("#")]),a._v(" æ•´ä½“çœ‹G1çš„GCè¡Œä¸º")]),a._v(" "),t("p",[a._v("ä»æœ€é«˜å±‚çœ‹ï¼ŒG1çš„collectorä¸€ä¾§å…¶å®å°±æ˜¯ä¸¤ä¸ªå¤§éƒ¨åˆ†ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("å…¨å±€å¹¶å‘æ ‡è®°ï¼ˆglobal concurrent markingï¼‰")]),a._v(" "),t("li",[a._v("æ‹·è´å­˜æ´»å¯¹è±¡ï¼ˆevacuationï¼‰")])]),a._v(" "),t("p",[t("strong",[a._v("å…¨å±€å¹¶å‘æ ‡è®°å’Œæ‹·è´å­˜æ´»å¯¹è±¡å¯ä»¥å½¼æ­¤ç‹¬ç«‹è¿è¡Œ")])]),a._v(" "),t("h2",{attrs:{id:"ä¸€ã€å…¨å±€å¹¶å‘æ ‡è®°-global-concurrent-marking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€å…¨å±€å¹¶å‘æ ‡è®°-global-concurrent-marking"}},[a._v("#")]),a._v(" ä¸€ã€å…¨å±€å¹¶å‘æ ‡è®°ï¼šglobal concurrent marking")]),a._v(" "),t("p",[a._v("å…¨å±€å¹¶å‘æ ‡è®°ï¼šglobal concurrent markingï¼Œæ˜¯åŸºäºSATBå½¢å¼çš„å¹¶å‘æ ‡è®°ã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("å…¨å±€å¹¶å‘æ ‡è®°æ•´ä¸ªè¿‡ç¨‹åªæœ‰å¹¶å‘æ ‡è®°å¯èƒ½è¢«Young GCæ‰“æ–­ã€‚")]),a._v(" "),t("p",[a._v("åœ¨JDK12å‰ï¼ŒMixedGCä¹Ÿæ˜¯ä¸å…è®¸è¢«æ‰“æ–­çš„ã€‚åæ¥MixedGCèƒ½è¢«æ‰“æ–­ã€‚")])]),a._v(" "),t("h4",{attrs:{id:"_1ã€åˆå§‹æ ‡è®°-initial-marking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€åˆå§‹æ ‡è®°-initial-marking"}},[a._v("#")]),a._v(" 1ã€åˆå§‹æ ‡è®°ï¼š"),t("strong",[a._v("initial marking")])]),a._v(" "),t("p",[a._v("STWã€‚")]),a._v(" "),t("p",[a._v("æ‰¾åˆ°GC Rootsï¼ŒæŠŠrootså¼•ç”¨çš„å¯¹è±¡å‹å…¥æ‰«ææ ˆï¼ˆç°è‰²ï¼‰ã€‚")]),a._v(" "),t("p",[a._v("è¿™ä¸ªè¿‡ç¨‹æ˜¯ç­‰Young GCè§¦å‘æ—¶å€Ÿé“çš„ã€‚")]),a._v(" "),t("h5",{attrs:{id:"æ ¹åˆ†åŒºæ‰«æ-root-region-scanning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ ¹åˆ†åŒºæ‰«æ-root-region-scanning"}},[a._v("#")]),a._v(" æ ¹åˆ†åŒºæ‰«æ Root Region Scanning")]),a._v(" "),t("p",[t("strong",[a._v("æ ¹åˆ†åŒº")]),a._v("ï¼šYoung GCæœŸé—´ï¼Œæ²¡æœ‰æ­»äº¡çš„å¹´è½»ä»£ï¼Œæ™‹å‡åˆ°çš„æ‰€æœ‰SurvivoråŒºåŸŸ")]),a._v(" "),t("p",[a._v("ç”±äºåˆå§‹æ ‡è®°æ˜¯å€Ÿé“çš„ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶Edenä¸ºç©ºï¼Œå¹´è½»ä»£å­˜æ´»çš„å¯¹è±¡å…¨éƒ¨ä¸ºå­˜æ´»å¯¹è±¡ï¼Œå› æ­¤éœ€è¦å°†è¿™å—åŒºåŸŸçš„æ‰€æœ‰å¯¹è±¡æ ‡è®°ä¸ºGC Rootsã€‚")]),a._v(" "),t("h4",{attrs:{id:"_2ã€å¹¶å‘æ ‡è®°-concurrent-marking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å¹¶å‘æ ‡è®°-concurrent-marking"}},[a._v("#")]),a._v(" 2ã€"),t("strong",[a._v("å¹¶å‘æ ‡è®°")]),a._v("ï¼šconcurrent marking")]),a._v(" "),t("p",[a._v("å¹¶å‘æ ‡è®°ç®—æ³•çš„å®ç°å°±æ˜¯ä¸‰è‰²æ ‡è®°æ³•ï¼Œæ‰€ä»¥å°±æ˜¯é€’å½’æ‰«æç›´è‡³æ‰«ææ ˆä¸ºç©º")]),a._v(" "),t("blockquote",[t("p",[a._v("è¿‡ç¨‹ä¸­è¿˜ä¼šæ‰«æSATB write barrieræ‰€è®°å½•çš„å¼•ç”¨ï¼Œå°±æ˜¯å°†é»‘è‰²å˜æˆç°è‰²çš„å¯¹è±¡é‡æ–°å‹å…¥æ‰«ææ ˆ")])]),a._v(" "),t("h5",{attrs:{id:"å¹¶å‘æ ‡è®°çš„çº¿ç¨‹æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘æ ‡è®°çš„çº¿ç¨‹æ•°"}},[a._v("#")]),a._v(" å¹¶å‘æ ‡è®°çš„çº¿ç¨‹æ•°")]),a._v(" "),t("p",[t("code",[a._v("-XX:ConcGCThreads")]),a._v("ï¼šé»˜è®¤ä¸ºGCçº¿ç¨‹æ•°çš„1/4ï¼Œå³"),t("code",[a._v("-XX:ParallelGCThreads/4")]),a._v("ï¼Œä¸€æ¬¡åªæ‰«æä¸€ä¸ªåˆ†åŒº")]),a._v(" "),t("p",[t("code",[a._v("-XX:ParallelGCThreads")]),a._v("ï¼šè§ã€ŒGCå·¥ä½œçº¿ç¨‹æ•°é‡ã€")]),a._v(" "),t("h4",{attrs:{id:"_3ã€æœ€ç»ˆ-é‡æ–°æ ‡è®°-remark-final-mark"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€æœ€ç»ˆ-é‡æ–°æ ‡è®°-remark-final-mark"}},[a._v("#")]),a._v(" 3ã€"),t("strong",[a._v("æœ€ç»ˆ/é‡æ–°æ ‡è®°")]),a._v("ï¼šremark/final mark")]),a._v(" "),t("p",[a._v("STWã€‚")]),a._v(" "),t("p",[a._v("å¤„ç†å‰©ä¸‹çš„SATB write barrierè®°å½•çš„å¼•ç”¨ï¼ˆè¯¦è§ã€SATBçš„å®ç°ï¼šå†™å‰å±éšœã€ï¼‰ã€‚ä¹Ÿè¿›è¡Œå¼±å¼•ç”¨å¤„ç†")]),a._v(" "),t("blockquote",[t("p",[a._v("CMS çš„remarkéå¸¸æ…¢ã€‚CMSçš„remarkéœ€è¦é‡æ–°æ‰«æmod-union tableé‡Œçš„dirty cardå¤–åŠ æ•´ä¸ªæ ¹é›†åˆï¼Œè€Œæ­¤æ—¶æ•´ä¸ªyoung genï¼ˆä¸ç®¡å¯¹è±¡æ­»æ´»ï¼‰éƒ½ä¼šè¢«å½“ä½œæ ¹é›†åˆçš„ä¸€éƒ¨åˆ†")])]),a._v(" "),t("h4",{attrs:{id:"_4ã€æ¸…ç†-clean"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4ã€æ¸…ç†-clean"}},[a._v("#")]),a._v(" 4ã€æ¸…ç†ï¼šclean")]),a._v(" "),t("p",[a._v("STWã€‚")]),a._v(" "),t("p",[a._v("æ¸…ç‚¹å’Œé‡ç½®æ ‡è®°çŠ¶æ€ã€‚è¿™ä¸ªé˜¶æ®µä¸æ‹·è´ä»»ä½•å¯¹è±¡")]),a._v(" "),t("h2",{attrs:{id:"äºŒã€æ‹·è´å­˜æ´»å¯¹è±¡-evacuation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ‹·è´å­˜æ´»å¯¹è±¡-evacuation"}},[a._v("#")]),a._v(" äºŒã€æ‹·è´å­˜æ´»å¯¹è±¡ï¼šEvacuation")]),a._v(" "),t("p",[a._v("Evacuationé˜¶æ®µæ˜¯"),t("strong",[a._v("å…¨æš‚åœ")]),a._v("çš„ã€‚")]),a._v(" "),t("h4",{attrs:{id:"_1ã€ç¡®å®šcset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€ç¡®å®šcset"}},[a._v("#")]),a._v(" 1ã€ç¡®å®šCSet")]),a._v(" "),t("p",[a._v("Evacuationé˜¶æ®µå¯ä»¥ã€Œè‡ªç”±é€‰æ‹©ä»»æ„å¤šä¸ªregionã€"),t("strong",[a._v("æ¥ç‹¬ç«‹æ”¶é›†æ„æˆæ”¶é›†é›†åˆï¼Œè€Œè¿™ä¾èµ–")]),a._v("ã€ŒRSetã€å®ç°")]),a._v(" "),t("blockquote",[t("p",[a._v("è¢«é€‰æ‹©çš„è¿™äº›Regionå°±å«åšCSet")]),a._v(" "),t("p",[a._v("RSetè¿˜è®°å¾—ä¹ˆï¼Œæ˜¯å®ç°Partial GCçš„æ ¸å¿ƒæœºåˆ¶")])]),a._v(" "),t("h4",{attrs:{id:"_2ã€å¯èƒ½çš„æ ‡è®°è¡Œä¸º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€å¯èƒ½çš„æ ‡è®°è¡Œä¸º"}},[a._v("#")]),a._v(" 2ã€å¯èƒ½çš„æ ‡è®°è¡Œä¸º")]),a._v(" "),t("p",[a._v("å‰æ–‡è¯´è¿‡evacuationä¸global concurrent markingæ˜¯å¯ä»¥å½¼æ­¤ç‹¬ç«‹å·¥ä½œçš„ã€‚")]),a._v(" "),t("p",[a._v("å› æ­¤ï¼š"),t("strong",[a._v("Evacuationä¹Ÿéœ€è¦èƒ½å¤Ÿæ‰«ææ ‡è®°å­˜æ´»å¯¹è±¡")])]),a._v(" "),t("p",[a._v("å®é™…ä¸Šï¼Œæ ‡è®°è¿‡ç¨‹ä¸ä¸€å®šä¼šæœ‰ã€‚")]),a._v(" "),t("ul",[t("li",[a._v("å¦‚æœæœ‰global concurrent markingçš„ç»“æœï¼Œé‚£å°±ç›´æ¥æ‹¿æ¥ç”¨")]),a._v(" "),t("li",[a._v("å¦‚æœæ²¡æœ‰ï¼Œä¹Ÿæ— æ‰€è°“ï¼ŒEvacuationè‡ªå·±ä¹Ÿèƒ½æ‰«æå‡ºæ¥")])]),a._v(" "),t("h4",{attrs:{id:"_3ã€æ‹·è´å­˜æ´»å¯¹è±¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€æ‹·è´å­˜æ´»å¯¹è±¡"}},[a._v("#")]),a._v(" 3ã€æ‹·è´å­˜æ´»å¯¹è±¡")]),a._v(" "),t("p",[a._v("evacuationæŠŠä¸€éƒ¨åˆ†regioné‡Œçš„æ´»å¯¹è±¡æ‹·è´åˆ°ç©ºregioné‡Œå»ï¼Œç„¶åå›æ”¶åŸæœ¬çš„regionçš„ç©ºé—´ã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("å…·ä½“çš„æ‹·è´è¡Œä¸ºï¼š")]),a._v(" "),t("p",[a._v("è·ŸParallelScavengeçš„young GCçš„ç®—æ³•ç±»ä¼¼ï¼Œé‡‡ç”¨å¹¶è¡Œcopyingï¼ˆæˆ–è€…å«scavengingï¼‰ç®—æ³•æŠŠCSeté‡Œæ¯ä¸ªregioné‡Œçš„æ´»å¯¹è±¡æ‹·è´åˆ°æ–°çš„regioné‡Œï¼Œæ•´ä¸ªè¿‡ç¨‹å®Œå…¨æš‚åœã€‚æ˜¯å¤šçº¿ç¨‹å¹¶è¡Œæ‹·è´ã€‚")]),a._v(" "),t("p",[a._v("èƒ½ä¸èƒ½å¹¶å‘æ‹·è´ï¼ˆconcurrent compactionæ‹·è´è¡Œä¸ºä¸ç”¨æˆ·çº¿ç¨‹åŒæ—¶è¿›è¡Œï¼‰")]),a._v(" "),t("p",[a._v("ä¸èƒ½ï¼Œå·²çŸ¥çš„å®ç°concurrent compactionçš„GCç®—æ³•éƒ½éœ€è¦read barrierï¼Œè€ŒG1åˆ™åšæŒåªç”¨write barrierä¸ç”¨read barrieã€‚")])]),a._v(" "),t("h2",{attrs:{id:"xxxgcä¸evacuationå’Œmarkingçš„å…³ç³»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xxxgcä¸evacuationå’Œmarkingçš„å…³ç³»"}},[a._v("#")]),a._v(" xxxGCä¸Evacuationå’Œmarkingçš„å…³ç³»")]),a._v(" "),t("p",[a._v("è¿™é‡ŒæŒ‡Young GCå’ŒMixed GCã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("Rå¤§åŸè¯æ˜¯ï¼š")]),a._v(" "),t("p",[a._v("åˆ†ä»£å¼G1æ¨¡å¼ä¸‹æœ‰ä¸¤ç§é€‰å®šCSetçš„å­æ¨¡å¼ï¼Œåˆ†åˆ«å¯¹åº”young GCä¸mixed GC")])]),a._v(" "),t("p",[a._v("æ›´ç¡®åˆ‡çš„è¯´ï¼Œ"),t("strong",[a._v("Young GCå’ŒMixed GCéƒ½æ˜¯Evacuationçš„ä¸€ç§ï¼Œå®ƒä»¬çš„åŒºåˆ«ä»…ä»…æ˜¯é€‰å®šçš„CSetä¸åŒ")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("å®ƒä»¬çš„å…·ä½“é€‰å®šCSetçš„è§„åˆ™æ˜¯ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("Young GCï¼šé€‰å®šæ‰€æœ‰young gené‡Œçš„regionã€‚é€šè¿‡æ§åˆ¶young gençš„regionä¸ªæ•°æ¥æ§åˆ¶young GCçš„å¼€é”€ã€‚")]),a._v(" "),t("li",[a._v("Mixed GCï¼šé€‰å®šæ‰€æœ‰young gené‡Œçš„regionï¼Œå¤–åŠ æ ¹æ®global concurrent markingç»Ÿè®¡å¾—å‡ºæ”¶é›†æ”¶ç›Šé«˜çš„è‹¥å¹²old gen regionã€‚åœ¨ç”¨æˆ·æŒ‡å®šçš„å¼€é”€ç›®æ ‡èŒƒå›´å†…å°½å¯èƒ½é€‰æ‹©æ”¶ç›Šé«˜çš„old gen regionã€‚")])]),a._v(" "),t("p",[a._v("ä½ æƒ³æƒ³ï¼Œ"),t("strong",[a._v("é€‰å®šCSetå±äºå“ªä¸ªéƒ¨åˆ†")]),a._v("ï¼Ÿå±äºEvacuationè¡Œä¸ºçš„ç¬¬ä¸€æ­¥ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šè®²G1çš„ä½œè€…å¸¸è¯´ï¼š")]),a._v(" "),t("blockquote",[t("p",[a._v("G1çš„Mixed GCä¸Young GCçš„è¡Œä¸ºå‡ ä¹å®Œå…¨ä¸€æ ·")])]),a._v(" "),t("p",[a._v("çœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´äº†å§ã€‚è¿˜ä¸çŸ¥é“å°±å†çœ‹ä¸€éã€‚")]),a._v(" "),t("p",[a._v("Young GCå’ŒMixed GC éƒ½æ˜¯STWçš„ï¼Œå¯¹å—")]),a._v(" "),t("p",[a._v("å¯¹çš„ã€‚å®ƒä»¬æ˜¯Evacuationçš„ä¸€ç§ï¼Œè€ŒEvacuationæ˜¯STWçš„ã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("global concurrent markingå¯¹mixed gcä¸­çš„old gen gcæœ‰å¸®åŠ©ï¼Œä¸young gcæ²¡å¤šå¤§å…³ç³»")])]),a._v(" "),t("p",[a._v("å…¨å±€å¹¶å‘æ ‡è®°ä¸Mixed GCæ˜¯äº’æ–¥çš„ï¼ˆä¸ä¼šåŒæ—¶è¿›è¡Œï¼‰")]),a._v(" "),t("p",[a._v("Initial markingé»˜è®¤æ­åœ¨young GCä¸Šæ‰§è¡Œï¼›å½“å…¨å±€å¹¶å‘æ ‡è®°æ­£åœ¨å·¥ä½œæ—¶ï¼ŒG1ä¸ä¼šé€‰æ‹©åšmixed GCï¼Œåä¹‹å¦‚æœæœ‰mixed GCæ­£åœ¨è¿›è¡Œä¸­G1ä¹Ÿä¸ä¼šå¯åŠ¨initial markingã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("JDK12æ¨å‡ºäº†å¯ä¸­æ–­çš„Mixed GC")])]),a._v(" "),t("h2",{attrs:{id:"g1å·¥ä½œå‘¨æœŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1å·¥ä½œå‘¨æœŸ"}},[a._v("#")]),a._v(" G1å·¥ä½œå‘¨æœŸ")]),a._v(" "),t("p",[a._v("è¿™åº”è¯¥èƒ½å¸®åŠ©ä½ æ›´å¥½çš„ç†è§£G1çš„è¡Œä¸ºæ¨¡å¼")]),a._v(" "),t("p",[a._v("ä¸€ä¸ªå‡æƒ³çš„æ··åˆçš„STWæ—¶é—´çº¿ï¼š")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1  å¯åŠ¨ç¨‹åº \n2  -> young GC \n3  -> young GC \n4  -> young GC \n5  -> young GC + initial marking åˆå§‹æ ‡è®°\n6  (... concurrent marking ...) å¹¶å‘æ ‡è®°\n7  -> young GC (... concurrent marking ...) \n8  (... concurrent marking ...) \n9  -> young GC (... concurrent marking ...) \n10 -> final marking  æœ€ç»ˆæ ‡è®°\n11 -> cleanup æ¸…ç†\n12 -> mixed GC \n13 -> mixed GC \n14 -> mixed GC \n15 ... \n16 -> mixed GC \n17 -> young GC + initial marking \n18 (... concurrent marking ...) \n19 ...\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br")])]),t("h2",{attrs:{id:"g1çš„ä¸‰ç§gc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1çš„ä¸‰ç§gc"}},[a._v("#")]),a._v(" G1çš„ä¸‰ç§GC")]),a._v(" "),t("p",[a._v("G1çš„GCä¸»è¦æ˜¯YoungGCå’ŒMixedGCï¼ŒG1è¿½æ±‚å°½é‡é¿å…Full GC")]),a._v(" "),t("p",[a._v("G1çš„æ”¶é›†éƒ½æ˜¯æ ¹æ®CSetè¿›è¡Œæ“ä½œçš„ï¼ŒYoungGCä¸MixedGCæ²¡æœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äºä¸¤ç§æ”¶é›†çš„è§¦å‘æ¡ä»¶")]),a._v(" "),t("h3",{attrs:{id:"_1ã€young-minorgc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€young-minorgc"}},[a._v("#")]),a._v(" 1ã€Young/MinorGC")]),a._v(" "),t("h4",{attrs:{id:"è§¦å‘æ—¶æœº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§¦å‘æ—¶æœº"}},[a._v("#")]),a._v(" è§¦å‘æ—¶æœº")]),a._v(" "),t("p",[t("strong",[a._v("YoungGCå¹¶ä¸æ˜¯è¯´ç°æœ‰çš„EdenåŒºæ”¾æ»¡äº†å°±ä¼šé©¬ä¸Šè§¦å‘")]),a._v("ï¼ŒG1ä¼šè®¡ç®—ä¸‹ç°åœ¨EdenåŒºå›æ”¶å¤§æ¦‚è¦å¤šä¹…æ—¶é—´ï¼Œå¦‚æœå›æ”¶æ—¶é—´è¿œè¿œå°äºå‚æ•° "),t("code",[a._v("-XX:MaxGCPauseMills")]),a._v(" è®¾å®šçš„å€¼ï¼ˆé»˜è®¤200msï¼‰ï¼Œé‚£ä¹ˆ"),t("strong",[a._v("å¢åŠ å¹´è½»ä»£çš„regionï¼Œç»§ç»­ç»™æ–°å¯¹è±¡å­˜æ”¾")]),a._v("ï¼Œä¸ä¼šé©¬ä¸ŠåšYoung GCï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡EdenåŒºæ”¾æ»¡ï¼ŒG1è®¡ç®—å›æ”¶æ—¶é—´æ¥è¿‘å‚æ•° -XX:MaxGCPauseMills è®¾å®šçš„å€¼ï¼Œé‚£ä¹ˆå°±ä¼šè§¦å‘Young GCã€‚")]),a._v(" "),t("p",[a._v("å³ï¼š"),t("strong",[a._v("å½“EdenåŒºæ”¾æ»¡æ—¶ï¼Œé¢„è®¡ä¸€æ¬¡Young GCæ—¶é—´æ¥è¿‘200msï¼Œæ‰è§¦å‘Young GCï¼Œå¦åˆ™åˆ†é…ä¸€ä¸ªæ–°Regionç»™Eden")])]),a._v(" "),t("p",[a._v("ä½†æ˜¯ï¼Œå¦‚æœYoungGCå‘ç°å½“å‰æ­£åœ¨è¿›è¡ŒXXXï¼Œå¹¶ä¸ä¼šè§¦å‘ã€‚")]),a._v(" "),t("h4",{attrs:{id:"gcåŒºåŸŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gcåŒºåŸŸ"}},[a._v("#")]),a._v(" GCåŒºåŸŸ")]),a._v(" "),t("p",[a._v("åªå¯¹æ–°ç”Ÿä»£çš„åŒºåŸŸåšGC")]),a._v(" "),t("h4",{attrs:{id:"younggcçš„è¡Œä¸º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#younggcçš„è¡Œä¸º"}},[a._v("#")]),a._v(" YoungGCçš„è¡Œä¸º")]),a._v(" "),t("p",[a._v("è§Evacuationã€‚")]),a._v(" "),t("p",[a._v("é€šè¿‡æ§åˆ¶young gençš„regionä¸ªæ•°æ¥æ§åˆ¶young GCçš„å¼€é”€ã€‚")]),a._v(" "),t("h4",{attrs:{id:"young-gcå’Œå…¨å±€å¹¶å‘æ ‡è®°æœ‰æ²¡æœ‰å…³ç³»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#young-gcå’Œå…¨å±€å¹¶å‘æ ‡è®°æœ‰æ²¡æœ‰å…³ç³»"}},[a._v("#")]),a._v(" Young GCå’Œå…¨å±€å¹¶å‘æ ‡è®°æœ‰æ²¡æœ‰å…³ç³»")]),a._v(" "),t("p",[a._v("æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚")]),a._v(" "),t("p",[a._v("ä»Evacuationçš„è§’åº¦çœ‹ï¼Œå…¨å±€å¹¶å‘æ ‡è®°çš„ç»“æœæ˜¯å¯æœ‰å¯æ— çš„ã€‚")]),a._v(" "),t("p",[a._v("ä»GCçš„è§’åº¦çœ‹ï¼ŒYoung GCä¸ä¾èµ–å…¨å±€å¹¶å‘æ ‡è®°ï¼Œè€ŒMixed GCé€šå¸¸éœ€è¦å…¨å±€å¹¶å‘æ ‡è®°çš„ç»“æœã€‚")]),a._v(" "),t("h3",{attrs:{id:"_2ã€mixedgc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2ã€mixedgc"}},[a._v("#")]),a._v(" 2ã€MixedGC")]),a._v(" "),t("h4",{attrs:{id:"è§¦å‘æ—¶æœº-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§¦å‘æ—¶æœº-2"}},[a._v("#")]),a._v(" è§¦å‘æ—¶æœº")]),a._v(" "),t("p",[a._v("ã€è€å¹´ä»£/æ•´ä¸ªå †çš„ç™¾åˆ†æ¯”ã€è¾¾åˆ° IHOP ("),t("code",[a._v("-XX:InitiatingHeapOccupancyPercent")]),a._v(")é˜ˆå€¼ï¼Œå¹¶ä¸”å‘ç”ŸYoung GC")]),a._v(" "),t("blockquote",[t("p",[a._v("å½“è¾¾åˆ° IHOP é˜ˆå€¼æ—¶ï¼Œ"),t("strong",[a._v("G1å¹¶ä¸ä¼šç«‹å³å‘èµ·å¹¶å‘æ ‡è®°å‘¨æœŸï¼Œè€Œæ˜¯ç­‰å¾…ä¸‹ä¸€æ¬¡å¹´è½»ä»£æ”¶é›†ï¼Œåˆ©ç”¨å¹´è½»ä»£æ”¶é›†çš„STWæ—¶é—´æ®µï¼Œå®Œæˆåˆå§‹æ ‡è®°")]),a._v("ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºå€Ÿé“ã€‚")])]),a._v(" "),t("p",[a._v("æ³¨æ„ï¼š"),t("strong",[a._v("è¾¾åˆ° IHOPé˜ˆå€¼è§¦å‘çš„æ˜¯ã€å…¨å±€å¹¶å‘æ ‡è®°ã€ï¼Œå…¨å±€å¹¶å‘æ ‡è®°ç»“æŸåæ‰ä¼šMixed GC")])]),a._v(" "),t("p",[a._v("ã€å…¨å±€å¹¶å‘æ ‡è®°ã€åï¼Œä»ç„¶ä¸ä¼šç«‹åˆ»å¼€å§‹Mixed GCã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("éšåG1å¹¶ä¸ä¼šé©¬ä¸Šå¼€å§‹ä¸€æ¬¡æ··åˆæ”¶é›†ï¼Œè€Œæ˜¯è®©åº”ç”¨çº¿ç¨‹å…ˆè¿è¡Œä¸€æ®µæ—¶é—´ï¼Œç­‰å¾…è§¦å‘ä¸€æ¬¡å¹´è½»ä»£æ”¶é›†ã€‚åœ¨è¿™æ¬¡STWä¸­ï¼ŒG1å°†ä¿å‡†æ•´ç†æ··åˆæ”¶é›†å‘¨æœŸã€‚æ¥ç€å†æ¬¡è®©åº”ç”¨çº¿ç¨‹è¿è¡Œï¼Œå½“"),t("strong",[a._v("æ¥ä¸‹æ¥çš„å‡ æ¬¡å¹´è½»ä»£æ”¶é›†æ—¶ï¼Œå°†ä¼šæœ‰è€å¹´ä»£åˆ†åŒºåŠ å…¥åˆ°CSetä¸­ï¼Œå³è§¦å‘æ··åˆæ”¶é›†")]),a._v("ï¼Œè¿™äº›è¿ç»­å¤šæ¬¡çš„æ··åˆæ”¶é›†ç§°ä¸ºæ··åˆæ”¶é›†å‘¨æœŸ(Mixed Collection Cycle)ã€‚")]),a._v(" "),t("p",[a._v("å¼•ç”¨è‡ªï¼š"),t("a",{attrs:{href:"https://pdai.tech/md/java/jvm/java-jvm-gc-g1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://pdai.tech/md/java/jvm/java-jvm-gc-g1.html"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("æ‰€ä»¥Mixed GCä»ç„¶ä¾æ‰˜äºYoung GCï¼Œç„¶åä¿®æ”¹å®ƒçš„CSetã€‚")]),a._v(" "),t("p",[a._v("å› æ­¤Mixed GCçš„çœŸæ­£è§¦å‘æ—¶æœºæ˜¯ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("ç»å†è¿‡ã€å…¨å±€å¹¶å‘æ ‡è®°ã€ï¼Œæœ‰è€å¹´ä»£çš„åŒºåŸŸéœ€è¦GC")]),a._v(" "),t("li",[a._v("ç¬¬ä¸€æ¬¡è§¦å‘Young GCï¼Œåšchoose CSetçš„æ“ä½œ")]),a._v(" "),t("li",[a._v("å¹¶ä¸”ä»æœ‰è€å¹´ä»£çš„åŒºåŸŸæ²¡æ¥å¾—åŠGC")]),a._v(" "),t("li",[a._v("å¹¶ä¸”è§¦å‘åç»­çš„Young GCæ—¶ï¼Œé€šè¿‡ä¿®æ”¹å®ƒçš„CSetä½¿Young GCå˜æˆMixed GCã€‚")])]),a._v(" "),t("h4",{attrs:{id:"gcåŒºåŸŸ-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gcåŒºåŸŸ-2"}},[a._v("#")]),a._v(" GCåŒºåŸŸ")]),a._v(" "),t("p",[a._v("æ•´ä¸ªæ–°ç”Ÿä»£å’Œéƒ¨åˆ†è€å¹´ä»£ï¼Œå–å†³äºä½ æœŸæœ›G1æš‚åœçš„æ—¶é—´ï¼Œå’ŒGCä¸€ä¸ªRegionçš„ä»·å€¼")]),a._v(" "),t("h4",{attrs:{id:"mixedgcçš„è¡Œä¸º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mixedgcçš„è¡Œä¸º"}},[a._v("#")]),a._v(" MixedGCçš„è¡Œä¸º")]),a._v(" "),t("p",[a._v("è§Evacuationã€‚")]),a._v(" "),t("p",[a._v("é€‰å®šæ‰€æœ‰young gené‡Œçš„regionï¼Œå¤–åŠ æ ¹æ®global concurrent markingç»Ÿè®¡å¾—å‡ºæ”¶é›†æ”¶ç›Šé«˜çš„è‹¥å¹²old gen regionã€‚")]),a._v(" "),t("p",[a._v("å› ä¸ºæ¯æ¬¡GCçš„æš‚åœæ—¶é—´ç”±"),t("code",[a._v("-XX:MaxGCPauseMills")]),a._v(" æ§åˆ¶ï¼Œå› æ­¤ä¸€æ¬¡MixedGCæœªå¿…èƒ½å›æ”¶ä¸€æ¬¡global concurrent markingæ‰€æ ‡è®°å‡ºçš„CSetã€‚å› æ­¤G1å¯èƒ½ä¼šäº§ç”Ÿè¿ç»­å¤šæ¬¡çš„æ··åˆæ”¶é›†ä¸åº”ç”¨çº¿ç¨‹äº¤æ›¿æ‰§è¡Œã€‚")]),a._v(" "),t("p",[a._v("è¿™å°±è§£é‡Šäº†ã€G1å·¥ä½œå‘¨æœŸã€çš„12~16è¡Œå‡ºç°çš„å¤šæ¬¡Mixed GC")]),a._v(" "),t("h4",{attrs:{id:"g1çš„æ‹…ä¿æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1çš„æ‹…ä¿æœºåˆ¶"}},[a._v("#")]),a._v(" G1çš„æ‹…ä¿æœºåˆ¶")]),a._v(" "),t("p",[a._v("åœ¨GCæ—¶å…ˆå°†è¦å›æ”¶çš„"),t("code",[a._v("Region")]),a._v("åŒºä¸­å­˜æ´»çš„å¯¹è±¡æ‹·è´è‡³åˆ«çš„"),t("code",[a._v("Region")]),a._v("åŒºå†…ï¼Œæ‹·è´è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°æ²¡æœ‰è¶³å¤Ÿå¤šçš„ç©ºé—²"),t("code",[a._v("Region")]),a._v("åŒºæ‰¿è½½æ‹·è´å¯¹è±¡ï¼Œæ­¤æ—¶å°±ä¼šè§¦å‘ä¸€æ¬¡"),t("code",[a._v("Full GC")]),a._v("ã€‚")]),a._v(" "),t("h3",{attrs:{id:"_3ã€full-gc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€full-gc"}},[a._v("#")]),a._v(" 3ã€Full GC")]),a._v(" "),t("p",[t("strong",[a._v("æ— æ³•åœ¨å †ç©ºé—´ä¸­ç”³è¯·æ–°çš„åˆ†åŒº")]),a._v("æ—¶ï¼ŒG1ä¾¿ä¼šè§¦å‘æ‹…ä¿æœºåˆ¶ï¼Œæ‰§è¡Œä¸€æ¬¡STWå¼çš„ã€å•çº¿ç¨‹çš„ Full GCã€‚Full GCçš„æ”¶é›†ä»£ä»·éå¸¸æ˜‚è´µï¼Œåº”è¯¥é¿å…Full GCçš„å‘ç”Ÿã€‚")]),a._v(" "),t("blockquote",[t("p",[a._v("G1çš„è®¾è®¡ç†å¿µæ˜¯å°½é‡é¿å…Full GCçš„å‘ç”Ÿ")])]),a._v(" "),t("h4",{attrs:{id:"è§¦å‘æ—¶æœº-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è§¦å‘æ—¶æœº-3"}},[a._v("#")]),a._v(" è§¦å‘æ—¶æœº")]),a._v(" "),t("p",[a._v("è§¦å‘full GCçš„åœºæ™¯ï¼š")]),a._v(" "),t("ul",[t("li",[a._v("ä»å¹´è½»ä»£åˆ†åŒºæ‹·è´å­˜æ´»å¯¹è±¡æ—¶ï¼Œæ— æ³•æ‰¾åˆ°å¯ç”¨çš„ç©ºé—²åˆ†åŒº")]),a._v(" "),t("li",[a._v("ä»è€å¹´ä»£åˆ†åŒºè½¬ç§»å­˜æ´»å¯¹è±¡æ—¶ï¼Œæ— æ³•æ‰¾åˆ°å¯ç”¨çš„ç©ºé—²åˆ†åŒº")]),a._v(" "),t("li",[a._v("åˆ†é…å·¨å‹å¯¹è±¡æ—¶åœ¨è€å¹´ä»£æ— æ³•æ‰¾åˆ°è¶³å¤Ÿçš„è¿ç»­åˆ†åŒº")])]),a._v(" "),t("h4",{attrs:{id:"gcåŒºåŸŸ-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gcåŒºåŸŸ-3"}},[a._v("#")]),a._v(" GCåŒºåŸŸ")]),a._v(" "),t("p",[a._v("å½“ç„¶æ˜¯å…¨éƒ¨ï¼ŒåŒ…æ‹¬å…ƒç©ºé—´ï¼Œå¤§å¯¹è±¡åŒºåŸŸç­‰ã€‚")]),a._v(" "),t("h4",{attrs:{id:"fullgcçš„è¡Œä¸º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fullgcçš„è¡Œä¸º"}},[a._v("#")]),a._v(" FullGCçš„è¡Œä¸º")]),a._v(" "),t("p",[a._v("JDK10ä¹‹å‰ï¼ŒG1ä¸­çš„FullGCæ˜¯é‡‡ç”¨"),t("strong",[a._v("serial old FullGC")]),a._v("ã€‚")]),a._v(" "),t("p",[a._v("JDK10åŠä¹‹åï¼Œé‡‡ç”¨äº†å¹¶å‘å¼çš„ã€‚")]),a._v(" "),t("h2",{attrs:{id:"g1é‡è¦é…ç½®å‚æ•°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#g1é‡è¦é…ç½®å‚æ•°"}},[a._v("#")]),a._v(" G1é‡è¦é…ç½®å‚æ•°")]),a._v(" "),t("p",[a._v("-XX:MaxGCPauseMillisï¼šä¸€èˆ¬çš„æœŸæœ›çš„æœ€å¤§STWæ—¶é—´ï¼Œé»˜è®¤å€¼ï¼š200ms")]),a._v(" "),t("p",[a._v("-XX:GCPauseTimeIntervalï¼šä¸¥æ ¼çš„å¿…é¡»çš„æœ€å¤§STWæ—¶é—´ï¼Œé»˜è®¤å€¼ï¼šæ²¡æœ‰ï¼Œå³å…è®¸æç«¯æƒ…å†µä¸‹G1 STWå¾ˆä¹…")]),a._v(" "),t("p",[a._v("-XX:ParallelGCThreadsï¼š"),t("strong",[a._v("å¹¶è¡Œ")]),a._v("å·¥ä½œæœ€å¤§çº¿ç¨‹æ•°ï¼Œé»˜è®¤å€¼æ¯”è¾ƒå¤æ‚ï¼Œè§ã€GCçº¿ç¨‹æ•°é‡ã€")]),a._v(" "),t("p",[a._v("-XX:ConcGCThreadsï¼š"),t("strong",[a._v("å¹¶å‘")]),a._v("å·¥ä½œæœ€å¤§çº¿ç¨‹æ•°ï¼Œé»˜è®¤å€¼"),t("code",[a._v("-XX:ParallelGCThreads")]),a._v("é™¤ä»¥4")]),a._v(" "),t("blockquote",[t("p",[a._v("Parallelå¹¶è¡Œçº¿ç¨‹æ•°ï¼šSTWæ—¶å¹¶è¡Œå·¥ä½œçš„çº¿ç¨‹æ•°é‡")]),a._v(" "),t("p",[a._v("Concå¹¶å‘çº¿ç¨‹æ•°ï¼šå¹¶å‘æ ‡è®°ï¼ˆå…¨å±€å¹¶å‘æ ‡è®°çš„ç¬¬äºŒæ­¥ï¼‰æ—¶çš„å·¥ä½œçº¿ç¨‹æ•°é‡")])]),a._v(" "),t("p",[a._v("-XX:G1HeapRegionSizeï¼šæ¯ä¸ªRegionçš„å¤§å°")]),a._v(" "),t("p",[a._v("-XX:G1(Max)NewSizePercentï¼šåˆå§‹ï¼ˆæœ€å¤§ï¼‰æ–°ç”Ÿä»£å å †å†…å­˜çš„å æ¯”")]),a._v(" "),t("p",[a._v("-XX:G1HeapWastePercentï¼šå›æ”¶Regionçš„ã€Œå€¼å¾—å›æ”¶éƒ¨åˆ†çš„ã€é˜ˆå€¼ï¼ŒCSetçš„æŸä¸ªRegionçš„å¯å›æ”¶çš„å†…å­˜å æ•´å †è¶…è¿‡è¯¥å€¼æ‰å¯èƒ½è¢«GCï¼Œé»˜è®¤å€¼ä¸º5%")]),a._v(" "),t("h4",{attrs:{id:"å‚è€ƒæ–‡çŒ®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡çŒ®"}},[a._v("#")]),a._v(" å‚è€ƒæ–‡çŒ®")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.pdai.tech/md/java/jvm/java-jvm-gc-g1.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("pdai.tech.GC - Java åƒåœ¾å›æ”¶å™¨ä¹‹G1è¯¦è§£"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.cn/column/7057537880624726053",target:"_blank",rel:"noopener noreferrer"}},[a._v("JVMæˆç¥è·¯ - ç«¹å­çˆ±ç†ŠçŒ«"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://hllvm-group.iteye.com/group/topic/44381#post-272188",target:"_blank",rel:"noopener noreferrer"}},[a._v("Rå¤§å…³äºG1çš„ç­”ç–‘å¸–"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);