(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{401:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"其它数据结构简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它数据结构简介"}},[s._v("#")]),s._v(" 其它数据结构简介")]),s._v(" "),a("h2",{attrs:{id:"_1、bitmap-二进制数组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、bitmap-二进制数组"}},[s._v("#")]),s._v(" 1、Bitmap：二进制数组")]),s._v(" "),a("p",[s._v("Bitmap 可以理解为一个特殊的数组，每个元素的值只能为 0 或者 1。")]),s._v(" "),a("p",[s._v("Bitmap 是基于SDS实现的，而SDS最大长度是 512M，Bitmap自然也是。")]),s._v(" "),a("p",[s._v("Bitmap 的 get/set 方法O(1)，BITCOUNT用 "),a("strong",[s._v("查表法")]),s._v(" 和 "),a("strong",[s._v("SWAR算法")]),s._v(" 实现，复杂度也在常数级别。")]),s._v(" "),a("h3",{attrs:{id:"bitmap常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bitmap常用命令"}},[s._v("#")]),s._v(" Bitmap常用命令")]),s._v(" "),a("h4",{attrs:{id:"基本读写-set-getbit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本读写-set-getbit"}},[s._v("#")]),s._v(" 基本读写：SET/GETBIT")]),s._v(" "),a("p",[s._v("SET/GETBIT O(1)，其余O(n)")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Bitmap可以理解为一个只有0/1的数组")]),s._v("\nSETBIT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BitKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nGETBIT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BitKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"统计1的个数-bitcount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#统计1的个数-bitcount"}},[s._v("#")]),s._v(" 统计1的个数：BITCOUNT")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("BITCOUNT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BitKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"第一个0-1-bitpos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一个0-1-bitpos"}},[s._v("#")]),s._v(" 第一个0/1：BITPOS")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 整个bitmap的第一个0/1")]),s._v("\nBITPOS "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BitKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bitmap区间内的第一个0/1")]),s._v("\nBITPOS "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("BitKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("end"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"位运算-bitop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位运算-bitop"}},[s._v("#")]),s._v(" 位运算：BITOP")]),s._v(" "),a("h2",{attrs:{id:"_2、hyperloglog-去重计数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、hyperloglog-去重计数"}},[s._v("#")]),s._v(" 2、HyperLogLog：去重计数")]),s._v(" "),a("p",[s._v("UV，Unique Visitor，独立访客，需要根据用户ID去重，这就是 HyperLogLog 最典型的应用场景。")]),s._v(" "),a("p",[s._v("HyperLogLog 提供不精确的去重计数方案，可以用来做基数统计，从而实现 UV 统计功能。")]),s._v(" "),a("p",[s._v("HyperLogLog 内存占用极低，性能高，但缺点是有误差，标准误算率是 0.81%，在业务不需要完全精确的情况可以使用。")]),s._v(" "),a("h3",{attrs:{id:"hyperloglog-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hyperloglog-常用命令"}},[s._v("#")]),s._v(" HyperLogLog 常用命令")]),s._v(" "),a("blockquote",[a("p",[s._v("HyperLogLog 相关的命令都以 "),a("strong",[s._v("pf")]),s._v(" 开头")])]),s._v(" "),a("h4",{attrs:{id:"添加元素-pfadd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加元素-pfadd"}},[s._v("#")]),s._v(" 添加元素：pfadd")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("pfadd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("HyperKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sql"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"统计不重复的元素-pfcount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#统计不重复的元素-pfcount"}},[s._v("#")]),s._v(" 统计不重复的元素：pfcount")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("pfcount "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("HyperKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"合并-pfmerge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并-pfmerge"}},[s._v("#")]),s._v(" 合并：pfmerge")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("pfmerge "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("合并的目标HyperKey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sourcekey1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sourcekey2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3、geo-地理位置信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、geo-地理位置信息"}},[s._v("#")]),s._v(" 3、GEO：地理位置信息")]),s._v(" "),a("p",[s._v("GEO 可以用来表达地理位置信息。")]),s._v(" "),a("p",[s._v("GEO基于 ZSet 实现，使用 GeoHash 编码方法，将经纬度转化为ZSet 的权值。")]),s._v(" "),a("h3",{attrs:{id:"geo常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#geo常用命令"}},[s._v("#")]),s._v(" GEO常用命令")]),s._v(" "),a("h4",{attrs:{id:"添加地理位置-geoadd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加地理位置-geoadd"}},[s._v("#")]),s._v(" 添加地理位置：geoadd")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("geoadd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GEOkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("经度1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("纬度1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("经纬度1的value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("经度2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("纬度2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("经纬度2的value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"查询位置信息-geopos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询位置信息-geopos"}},[s._v("#")]),s._v(" 查询位置信息：geopos")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("geopos "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GEOkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"删除地理位置-zrem"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除地理位置-zrem"}},[s._v("#")]),s._v(" 删除地理位置：zrem")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[s._v("zrem "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GEOkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"直线距离统计-geodist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#直线距离统计-geodist"}},[s._v("#")]),s._v(" 直线距离统计：geodist")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定单位为km 默认为m")]),s._v("\ngeodist "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GEOkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("km"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"查询范围geo-georadius"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询范围geo-georadius"}},[s._v("#")]),s._v(" 查询范围GEO：georadius")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表示某经纬度附近[num][km]的[GEOkey]下的所有GEO的value")]),s._v("\ngeoradius "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GEOkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("经度1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("纬度1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("num"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("km"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("只有value信息太少，georadius可以通过可选参数携带额外信息，如下：")]),s._v(" "),a("div",{staticClass:"language-less line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-less"}},[a("code",[s._v("[WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_1、直线距离-withdist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、直线距离-withdist"}},[s._v("#")]),s._v(" 1、直线距离：WITHDIST")]),s._v(" "),a("p",[s._v("GEO携带到该经纬度的直线距离")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("georadius site "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116.405419")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39.913164")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" km withdist\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2、经纬度信息-withcoord"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、经纬度信息-withcoord"}},[s._v("#")]),s._v(" 2、经纬度信息：WITHCOORD")]),s._v(" "),a("p",[s._v("GEO携带他们的经纬度信息")]),s._v(" "),a("h4",{attrs:{id:"_3、根据距离排序-asc-desc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、根据距离排序-asc-desc"}},[s._v("#")]),s._v(" 3、根据距离排序：ASC/DESC")]),s._v(" "),a("p",[s._v("从近到远|从远到近排序返回。")]),s._v(" "),a("h4",{attrs:{id:"_4、限制数据个数-count-num"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、限制数据个数-count-num"}},[s._v("#")]),s._v(" 4、限制数据个数：count num")]),s._v(" "),a("p",[s._v("只会返回num个GEO")]),s._v(" "),a("h4",{attrs:{id:"查询geo哈希-geohash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询geo哈希-geohash"}},[s._v("#")]),s._v(" 查询GEO哈希：geohash")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("geohash "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GEOkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_4、stream-消息队列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、stream-消息队列"}},[s._v("#")]),s._v(" 4、Stream：消息队列")]),s._v(" "),a("h3",{attrs:{id:"stream-vs-mq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stream-vs-mq"}},[s._v("#")]),s._v(" Stream vs MQ")]),s._v(" "),a("p",[s._v("成熟的消息队列产品非常多，比如RocketMQ，为何要用Stream？")]),s._v(" "),a("p",[s._v("比如 Kafka 依赖于 Zookeeper，相比 Redis 来说，Kafka 和 RabbitMQ 更重量级，而 Redis 更轻量化。")]),s._v(" "),a("p",[s._v("如果分布式系统中的组件消息通信量不大，就可以考虑用 Redis Stream。")]),s._v(" "),a("h3",{attrs:{id:"stream常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stream常用命令"}},[s._v("#")]),s._v(" Stream常用命令")]),s._v(" "),a("ul",[a("li",[s._v("xadd 添加消息；")]),s._v(" "),a("li",[s._v("xlen 查询消息长度；")]),s._v(" "),a("li",[s._v("xdel 根据消息 ID 删除消息；")]),s._v(" "),a("li",[s._v("del 删除整个 Stream；")]),s._v(" "),a("li",[s._v("xrange 读取区间消息")]),s._v(" "),a("li",[s._v("xread 读取某个消息之后的消息。")])]),s._v(" "),a("h3",{attrs:{id:"参考文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[s._v("#")]),s._v(" 参考文档")]),s._v(" "),a("p",[s._v("《Redis 核心原理与实战》")]),s._v(" "),a("p",[s._v("《Redis 核心技术与实战》")])])}),[],!1,null,null,null);a.default=n.exports}}]);